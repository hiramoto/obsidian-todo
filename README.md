# ChronoTask

Obsidian 用の作業時間記録・タスク管理プラグイン。

タスクごとの作業開始・終了を記録し、デイリーノートに自動でログを残します。ステータスバーに予定終了時刻を表示し、サイドバーから期間別の集計を確認できます。

## 主な機能

### 作業の記録

- **作業開始**: コマンドパレットからタスクを選択して作業を開始（ファジー検索対応）
- **作業終了**: 終了時にメモを添えて記録。デイリーノートの LOG セクションに自動追記
- 時刻は設定した間隔（デフォルト 5 分）で丸め処理

### ステータスバー

- デイリーノートの PLAN / LOG セクションから予定終了時刻を自動算出
- `⏰ 予定終了: HH:MM (残り: Xh XXm)` 形式でリアルタイム表示
- ファイル変更時に自動更新

### タスク履歴の自動表示

- タスクファイルを開くと、過去の作業履歴をテーブルで自動表示
- 累計作業時間・作業日数も表示
- ファイルを直接変更せず、Post Processor で読み取り専用描画

### サイドバー集計ビュー

- 今日 / 今週 / 先週 / 今月 / 先月の切り替え
- タスクごとの作業時間・セッション数の内訳
- 週次・月次ビューでは作業日数も表示

## Vault の構成例

```
vault/
├── 5-tasks/           # タスクファイル
│   ├── 20260211-API実装.md
│   └── 20260211-レビュー対応.md
├── 2-daily/           # デイリーノート
│   ├── 2026-02-10.md
│   └── 2026-02-11.md
└── ...
```

### タスクファイル

フロントマターに `task_id` を持つ Markdown ファイルです。

```yaml
---
task_id: 20260211-API実装
status: in-progress
created: 2026-02-11
tags: [project/backend]
---
```

### デイリーノート

PLAN セクションと LOG セクションを持つ Markdown ファイルです。作業終了時に LOG セクションへ自動追記されます。

```markdown
# 2026-02-11

## PLAN
- [[20260211-API実装]] / エンドポイント設計 60min

---

## LOG
- 08:15-09:20 [[20260211-API実装]] / メモ

---

## メモ
```

## 設定

| 項目 | デフォルト | 説明 |
|------|-----------|------|
| タスクフォルダ | `5-tasks` | タスクファイルの格納先 |
| デイリーフォルダ | `2-daily` | デイリーノートの格納先 |
| PLAN セクション名 | `PLAN` | 予定セクションの見出し |
| LOG セクション名 | `LOG` | 記録セクションの見出し |
| デイリーノート形式 | `YYYY-MM-DD` | ファイル名の日付フォーマット |
| 時刻丸め間隔 | `5` 分 | 開始・終了時刻の丸め単位 |
| ステータスバー表示 | ON | 予定終了時刻の表示切替 |
| 履歴の自動表示 | ON | タスクファイルへの履歴描画切替 |

## インストール

### 手動インストール

1. リリースページから `main.js`、`manifest.json`、`styles.css` をダウンロード
2. Vault の `.obsidian/plugins/chronotask/` フォルダにコピー
3. Obsidian の設定 → コミュニティプラグインから ChronoTask を有効化

### ビルド

```bash
npm install
npm run build
```

## ライセンス

MIT
